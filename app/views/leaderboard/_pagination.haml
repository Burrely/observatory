%nav
  %ul.pagination
    - if dataset.first_page?
      %li.disabled
        %a{ href: '#' }
          %span &laquo;
    - else
      %li
        %a{ href: url(:leaderboard, :players, sort_by: params['sort_by'], page: dataset.prev_page ) }
          %span &laquo;

    - if dataset.page_count <= 20
      - dataset.page_range.each do |i|
        %li{class: dataset.current_page == i ? 'active' : nil}
          = leaderboard_pagination_link(i)
    - else
      - (1 .. 10).each do |i|
        %li{class: dataset.current_page == i ? 'active' : nil}
          = leaderboard_pagination_link(i)

      %li.disabled
        %span ...

      - (dataset.page_count - 10 .. dataset.page_count).each do |i|
        %li{class: dataset.current_page == i ? 'active' : nil}
          = leaderboard_pagination_link(i)

    - if dataset.last_page?
      %li.disabled
        %a{ href: '#' }
          %span &raquo;
    - else
      %li
        %a{ href: url(:leaderboard, :players, sort_by: params['sort_by'], page: dataset.next_page ) }
          %span &raquo;
